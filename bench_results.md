# Full benchmark results

The following table compares `turboselect::select_nth_unstable` with `core::slice::select_nth_unstable`. Throughput is calculated as millions of elements per second, i.e `data.len() * runs / seconds`. 

The input patterns are:
- `random_u32`: pseudorandom `u32`s
- `sorted_u32`: presorted `u32`s with randomized ranges
- `mostlysort_u32`: `u32`s with approximately 90% of the elements in sorted order.
- `sawtooth_u32`: `u32`s with a sawtooth pattern, i.e `0, 1, 2, ..., 0, 1, 2, ...`. The length of the sawtooth is randomized.
- `reversed_u32`: `u32`s in reverse order, with randomized ranges
- `randomdup_u32`: pseudorandom `u32`s sampled from the range `0..sqrt(data.len())`.
- `random_bool`: pseudorandom `bool`s

The benchmarks were run on a Ryzen 5800H

## Results

| data pattern       | slice length | index       | throughput, M el/s   | baseline, M el /s  | ratio |
| ------------------ | ------------ | ----------- | -------------------- | ------------------ | ----- |
| random_u32         | 1000         | 1           | 1249.153             | 661.467            | 1.888 |
| random_u32         | 1000         | 10          | 1146.325             | 631.591            | 1.815 |
| random_u32         | 1000         | 50          | 899.107              | 608.198            | 1.478 |
| random_u32         | 1000         | 250         | 669.692              | 572.828            | 1.169 |
| random_u32         | 1000         | 500         | 628.416              | 546.771            | 1.149 |
| random_u32         | 10000        | 10          | 2175.853             | 919.347            | 2.367 |
| random_u32         | 10000        | 100         | 1719.681             | 899.673            | 1.911 |
| random_u32         | 10000        | 500         | 1396.770             | 882.031            | 1.584 |
| random_u32         | 10000        | 2500        | 1085.695             | 821.234            | 1.322 |
| random_u32         | 10000        | 5000        | 979.494              | 754.819            | 1.298 |
| random_u32         | 100000       | 100         | 2617.018             | 960.814            | 2.724 |
| random_u32         | 100000       | 1000        | 2263.933             | 952.077            | 2.378 |
| random_u32         | 100000       | 5000        | 1805.564             | 931.358            | 1.939 |
| random_u32         | 100000       | 25000       | 1301.294             | 843.832            | 1.542 |
| random_u32         | 100000       | 50000       | 1205.500             | 793.645            | 1.519 |
| random_u32         | 1000000      | 1000        | 2713.383             | 953.882            | 2.845 |
| random_u32         | 1000000      | 10000       | 2538.177             | 967.133            | 2.624 |
| random_u32         | 1000000      | 50000       | 2060.831             | 932.977            | 2.209 |
| random_u32         | 1000000      | 250000      | 1461.396             | 841.867            | 1.736 |
| random_u32         | 1000000      | 500000      | 1322.733             | 797.267            | 1.659 |
| random_u32         | 10000000     | 10000       | 2397.961             | 924.765            | 2.593 |
| random_u32         | 10000000     | 100000      | 2204.019             | 903.106            | 2.440 |
| random_u32         | 10000000     | 500000      | 1997.528             | 905.618            | 2.206 |
| random_u32         | 10000000     | 2500000     | 1446.640             | 817.045            | 1.771 |
| random_u32         | 10000000     | 5000000     | 1289.671             | 769.359            | 1.676 |
| random_u32         | 100000000    | 100000      | 2753.677             | 903.986            | 3.046 |
| random_u32         | 100000000    | 1000000     | 2051.582             | 928.744            | 2.209 |
| random_u32         | 100000000    | 5000000     | 1664.166             | 833.201            | 1.997 |
| random_u32         | 100000000    | 25000000    | 1386.914             | 763.950            | 1.815 |
| random_u32         | 100000000    | 50000000    | 1315.275             | 720.552            | 1.825 |
| sorted_u32         | 1000         | 1           | 2054.042             | 1418.260           | 1.448 |
| sorted_u32         | 1000         | 10          | 2370.456             | 1449.010           | 1.636 |
| sorted_u32         | 1000         | 50          | 2062.121             | 1428.075           | 1.444 |
| sorted_u32         | 1000         | 250         | 1306.396             | 1466.691           | 0.891 |
| sorted_u32         | 1000         | 500         | 2107.500             | 2225.273           | 0.947 |
| sorted_u32         | 10000        | 10          | 3488.766             | 1841.531           | 1.894 |
| sorted_u32         | 10000        | 100         | 3252.723             | 1815.606           | 1.792 |
| sorted_u32         | 10000        | 500         | 2709.852             | 1804.552           | 1.502 |
| sorted_u32         | 10000        | 2500        | 2465.265             | 2226.037           | 1.107 |
| sorted_u32         | 10000        | 5000        | 3253.571             | 2739.928           | 1.187 |
| sorted_u32         | 100000       | 100         | 3150.949             | 1250.780           | 2.519 |
| sorted_u32         | 100000       | 1000        | 2735.450             | 1199.269           | 2.281 |
| sorted_u32         | 100000       | 5000        | 2177.276             | 1179.925           | 1.845 |
| sorted_u32         | 100000       | 25000       | 1639.604             | 1338.103           | 1.225 |
| sorted_u32         | 100000       | 50000       | 1765.569             | 1462.356           | 1.207 |
| sorted_u32         | 1000000      | 1000        | 2851.208             | 1054.848           | 2.703 |
| sorted_u32         | 1000000      | 10000       | 2695.774             | 1061.893           | 2.539 |
| sorted_u32         | 1000000      | 50000       | 2269.970             | 971.852            | 2.336 |
| sorted_u32         | 1000000      | 250000      | 1598.977             | 835.521            | 1.914 |
| sorted_u32         | 1000000      | 500000      | 1457.632             | 826.353            | 1.764 |
| sorted_u32         | 10000000     | 10000       | 1695.458             | 944.057            | 1.796 |
| sorted_u32         | 10000000     | 100000      | 1647.489             | 915.965            | 1.799 |
| sorted_u32         | 10000000     | 500000      | 1581.903             | 865.678            | 1.827 |
| sorted_u32         | 10000000     | 2500000     | 1142.867             | 738.408            | 1.548 |
| sorted_u32         | 10000000     | 5000000     | 1076.675             | 700.144            | 1.538 |
| sorted_u32         | 100000000    | 100000      | 1402.060             | 976.722            | 1.435 |
| sorted_u32         | 100000000    | 1000000     | 1418.124             | 986.561            | 1.437 |
| sorted_u32         | 100000000    | 5000000     | 1261.217             | 887.779            | 1.421 |
| sorted_u32         | 100000000    | 25000000    | 1196.458             | 761.460            | 1.571 |
| sorted_u32         | 100000000    | 50000000    | 1279.722             | 728.057            | 1.758 |
| mostlysort_u32     | 1000         | 1           | 2022.031             | 887.274            | 2.279 |
| mostlysort_u32     | 1000         | 10          | 1584.895             | 832.160            | 1.905 |
| mostlysort_u32     | 1000         | 50          | 1337.357             | 864.262            | 1.547 |
| mostlysort_u32     | 1000         | 250         | 838.160              | 804.685            | 1.042 |
| mostlysort_u32     | 1000         | 500         | 764.190              | 821.586            | 0.930 |
| mostlysort_u32     | 10000        | 10          | 2732.530             | 1260.273           | 2.168 |
| mostlysort_u32     | 10000        | 100         | 2432.578             | 1264.886           | 1.923 |
| mostlysort_u32     | 10000        | 500         | 2045.353             | 1231.444           | 1.661 |
| mostlysort_u32     | 10000        | 2500        | 1384.153             | 1190.962           | 1.162 |
| mostlysort_u32     | 10000        | 5000        | 1118.267             | 1165.859           | 0.959 |
| mostlysort_u32     | 100000       | 100         | 2987.809             | 1060.392           | 2.818 |
| mostlysort_u32     | 100000       | 1000        | 2784.380             | 1062.967           | 2.619 |
| mostlysort_u32     | 100000       | 5000        | 2064.538             | 1078.671           | 1.914 |
| mostlysort_u32     | 100000       | 25000       | 1392.955             | 1058.850           | 1.316 |
| mostlysort_u32     | 100000       | 50000       | 1422.020             | 1051.245           | 1.353 |
| mostlysort_u32     | 1000000      | 1000        | 2890.200             | 1077.758           | 2.682 |
| mostlysort_u32     | 1000000      | 10000       | 2710.521             | 1042.497           | 2.600 |
| mostlysort_u32     | 1000000      | 50000       | 2355.508             | 982.752            | 2.397 |
| mostlysort_u32     | 1000000      | 250000      | 1612.473             | 849.709            | 1.898 |
| mostlysort_u32     | 1000000      | 500000      | 1418.719             | 819.119            | 1.732 |
| mostlysort_u32     | 10000000     | 10000       | 1720.835             | 1021.518           | 1.685 |
| mostlysort_u32     | 10000000     | 100000      | 1689.150             | 954.413            | 1.770 |
| mostlysort_u32     | 10000000     | 500000      | 1596.385             | 942.128            | 1.694 |
| mostlysort_u32     | 10000000     | 2500000     | 1251.261             | 785.329            | 1.593 |
| mostlysort_u32     | 10000000     | 5000000     | 1094.903             | 738.709            | 1.482 |
| mostlysort_u32     | 100000000    | 100000      | 1376.075             | 1076.121           | 1.279 |
| mostlysort_u32     | 100000000    | 1000000     | 1391.744             | 999.825            | 1.392 |
| mostlysort_u32     | 100000000    | 5000000     | 1264.841             | 870.968            | 1.452 |
| mostlysort_u32     | 100000000    | 25000000    | 1140.178             | 783.852            | 1.455 |
| mostlysort_u32     | 100000000    | 50000000    | 1225.678             | 733.750            | 1.670 |
| sawtooth_u32       | 1000         | 1           | 1280.992             | 1009.244           | 1.269 |
| sawtooth_u32       | 1000         | 10          | 1380.623             | 1005.221           | 1.373 |
| sawtooth_u32       | 1000         | 50          | 1327.723             | 992.381            | 1.338 |
| sawtooth_u32       | 1000         | 250         | 928.979              | 912.735            | 1.018 |
| sawtooth_u32       | 1000         | 500         | 832.610              | 873.867            | 0.953 |
| sawtooth_u32       | 10000        | 10          | 1683.353             | 1063.732           | 1.582 |
| sawtooth_u32       | 10000        | 100         | 1862.801             | 1056.016           | 1.764 |
| sawtooth_u32       | 10000        | 500         | 1319.252             | 940.718            | 1.402 |
| sawtooth_u32       | 10000        | 2500        | 1086.495             | 812.231            | 1.338 |
| sawtooth_u32       | 10000        | 5000        | 1025.231             | 756.560            | 1.355 |
| sawtooth_u32       | 100000       | 100         | 2396.097             | 1005.717           | 2.382 |
| sawtooth_u32       | 100000       | 1000        | 2118.976             | 951.559            | 2.227 |
| sawtooth_u32       | 100000       | 5000        | 1772.566             | 935.308            | 1.895 |
| sawtooth_u32       | 100000       | 25000       | 1283.239             | 813.472            | 1.577 |
| sawtooth_u32       | 100000       | 50000       | 1187.914             | 775.988            | 1.531 |
| sawtooth_u32       | 1000000      | 1000        | 2547.213             | 1017.419           | 2.504 |
| sawtooth_u32       | 1000000      | 10000       | 2447.440             | 991.628            | 2.468 |
| sawtooth_u32       | 1000000      | 50000       | 2040.691             | 965.216            | 2.114 |
| sawtooth_u32       | 1000000      | 250000      | 1429.795             | 806.241            | 1.773 |
| sawtooth_u32       | 1000000      | 500000      | 1294.707             | 762.663            | 1.698 |
| sawtooth_u32       | 10000000     | 10000       | 2316.593             | 973.655            | 2.379 |
| sawtooth_u32       | 10000000     | 100000      | 2325.862             | 955.603            | 2.434 |
| sawtooth_u32       | 10000000     | 500000      | 2065.132             | 900.509            | 2.293 |
| sawtooth_u32       | 10000000     | 2500000     | 1467.959             | 785.460            | 1.869 |
| sawtooth_u32       | 10000000     | 5000000     | 1321.265             | 750.528            | 1.760 |
| sawtooth_u32       | 100000000    | 100000      | 2371.293             | 947.926            | 2.502 |
| sawtooth_u32       | 100000000    | 1000000     | 1904.524             | 941.801            | 2.022 |
| sawtooth_u32       | 100000000    | 5000000     | 1812.662             | 897.970            | 2.019 |
| sawtooth_u32       | 100000000    | 25000000    | 1481.626             | 778.583            | 1.903 |
| sawtooth_u32       | 100000000    | 50000000    | 1377.901             | 774.711            | 1.779 |
| reversed_u32       | 1000         | 1           | 977.132              | 1007.406           | 0.970 |
| reversed_u32       | 1000         | 10          | 910.216              | 976.317            | 0.932 |
| reversed_u32       | 1000         | 50          | 949.932              | 947.064            | 1.003 |
| reversed_u32       | 1000         | 250         | 730.958              | 953.401            | 0.767 |
| reversed_u32       | 1000         | 500         | 1239.040             | 875.408            | 1.415 |
| reversed_u32       | 10000        | 10          | 1442.651             | 1094.529           | 1.318 |
| reversed_u32       | 10000        | 100         | 968.616              | 1099.307           | 0.881 |
| reversed_u32       | 10000        | 500         | 1331.805             | 1093.246           | 1.218 |
| reversed_u32       | 10000        | 2500        | 1046.651             | 1115.833           | 0.938 |
| reversed_u32       | 10000        | 5000        | 1642.560             | 1028.557           | 1.597 |
| reversed_u32       | 100000       | 100         | 2082.503             | 1084.196           | 1.921 |
| reversed_u32       | 100000       | 1000        | 2046.884             | 1073.809           | 1.906 |
| reversed_u32       | 100000       | 5000        | 1521.162             | 1071.207           | 1.420 |
| reversed_u32       | 100000       | 25000       | 1469.305             | 1087.527           | 1.351 |
| reversed_u32       | 100000       | 50000       | 1517.262             | 1136.682           | 1.335 |
| reversed_u32       | 1000000      | 1000        | 2930.925             | 1104.200           | 2.654 |
| reversed_u32       | 1000000      | 10000       | 2730.401             | 1108.266           | 2.464 |
| reversed_u32       | 1000000      | 50000       | 2398.849             | 1035.111           | 2.317 |
| reversed_u32       | 1000000      | 250000      | 1659.938             | 885.932            | 1.874 |
| reversed_u32       | 1000000      | 500000      | 1493.007             | 830.434            | 1.798 |
| reversed_u32       | 10000000     | 10000       | 1736.685             | 980.009            | 1.772 |
| reversed_u32       | 10000000     | 100000      | 1660.150             | 992.485            | 1.673 |
| reversed_u32       | 10000000     | 500000      | 1600.995             | 925.529            | 1.730 |
| reversed_u32       | 10000000     | 2500000     | 1262.701             | 788.355            | 1.602 |
| reversed_u32       | 10000000     | 5000000     | 1116.536             | 745.981            | 1.497 |
| reversed_u32       | 100000000    | 100000      | 1431.932             | 1019.898           | 1.404 |
| reversed_u32       | 100000000    | 1000000     | 1442.395             | 1019.790           | 1.414 |
| reversed_u32       | 100000000    | 5000000     | 1292.053             | 910.814            | 1.419 |
| reversed_u32       | 100000000    | 25000000    | 1224.852             | 773.373            | 1.584 |
| reversed_u32       | 100000000    | 50000000    | 1310.814             | 710.699            | 1.844 |
| randomdup_u32      | 1000         | 1           | 1146.939             | 759.900            | 1.509 |
| randomdup_u32      | 1000         | 10          | 1157.984             | 757.890            | 1.528 |
| randomdup_u32      | 1000         | 50          | 981.735              | 712.609            | 1.378 |
| randomdup_u32      | 1000         | 250         | 727.614              | 628.524            | 1.158 |
| randomdup_u32      | 1000         | 500         | 679.026              | 592.039            | 1.147 |
| randomdup_u32      | 10000        | 10          | 1683.832             | 953.862            | 1.765 |
| randomdup_u32      | 10000        | 100         | 1664.133             | 934.589            | 1.781 |
| randomdup_u32      | 10000        | 500         | 1363.252             | 904.990            | 1.506 |
| randomdup_u32      | 10000        | 2500        | 1050.952             | 806.408            | 1.303 |
| randomdup_u32      | 10000        | 5000        | 975.815              | 762.399            | 1.280 |
| randomdup_u32      | 100000       | 100         | 2525.850             | 979.837            | 2.578 |
| randomdup_u32      | 100000       | 1000        | 2109.730             | 959.194            | 2.199 |
| randomdup_u32      | 100000       | 5000        | 1772.145             | 934.793            | 1.896 |
| randomdup_u32      | 100000       | 25000       | 1284.812             | 853.773            | 1.505 |
| randomdup_u32      | 100000       | 50000       | 1189.346             | 802.058            | 1.483 |
| randomdup_u32      | 1000000      | 1000        | 2494.548             | 976.738            | 2.554 |
| randomdup_u32      | 1000000      | 10000       | 2330.513             | 956.841            | 2.436 |
| randomdup_u32      | 1000000      | 50000       | 1984.872             | 939.848            | 2.112 |
| randomdup_u32      | 1000000      | 250000      | 1446.320             | 861.758            | 1.678 |
| randomdup_u32      | 1000000      | 500000      | 1310.544             | 808.015            | 1.622 |
| randomdup_u32      | 10000000     | 10000       | 2298.999             | 925.815            | 2.483 |
| randomdup_u32      | 10000000     | 100000      | 2183.358             | 928.616            | 2.351 |
| randomdup_u32      | 10000000     | 500000      | 1962.060             | 893.751            | 2.195 |
| randomdup_u32      | 10000000     | 2500000     | 1454.509             | 848.569            | 1.714 |
| randomdup_u32      | 10000000     | 5000000     | 1267.033             | 770.165            | 1.645 |
| randomdup_u32      | 100000000    | 100000      | 2679.360             | 946.425            | 2.831 |
| randomdup_u32      | 100000000    | 1000000     | 2047.001             | 891.604            | 2.296 |
| randomdup_u32      | 100000000    | 5000000     | 1607.141             | 912.606            | 1.761 |
| randomdup_u32      | 100000000    | 25000000    | 1347.052             | 809.562            | 1.664 |
| randomdup_u32      | 100000000    | 50000000    | 1333.479             | 765.870            | 1.741 |
| random_bool        | 1000         | 1           | 593.639              | 487.902            | 1.217 |
| random_bool        | 1000         | 10          | 591.940              | 483.092            | 1.225 |
| random_bool        | 1000         | 50          | 591.707              | 487.293            | 1.214 |
| random_bool        | 1000         | 250         | 584.230              | 484.787            | 1.205 |
| random_bool        | 1000         | 500         | 552.204              | 460.214            | 1.200 |
| random_bool        | 10000        | 10          | 652.150              | 508.003            | 1.284 |
| random_bool        | 10000        | 100         | 653.648              | 508.699            | 1.285 |
| random_bool        | 10000        | 500         | 652.559              | 506.505            | 1.288 |
| random_bool        | 10000        | 2500        | 656.242              | 502.411            | 1.306 |
| random_bool        | 10000        | 5000        | 673.122              | 494.990            | 1.360 |
| random_bool        | 100000       | 100         | 652.893              | 504.732            | 1.294 |
| random_bool        | 100000       | 1000        | 665.674              | 506.070            | 1.315 |
| random_bool        | 100000       | 5000        | 665.597              | 514.107            | 1.295 |
| random_bool        | 100000       | 25000       | 665.949              | 510.155            | 1.305 |
| random_bool        | 100000       | 50000       | 691.937              | 510.345            | 1.356 |
| random_bool        | 1000000      | 1000        | 665.529              | 516.398            | 1.289 |
| random_bool        | 1000000      | 10000       | 664.364              | 494.985            | 1.342 |
| random_bool        | 1000000      | 50000       | 662.766              | 514.869            | 1.287 |
| random_bool        | 1000000      | 250000      | 662.955              | 506.916            | 1.308 |
| random_bool        | 1000000      | 500000      | 699.409              | 513.312            | 1.363 |
| random_bool        | 10000000     | 10000       | 664.265              | 531.280            | 1.250 |
| random_bool        | 10000000     | 100000      | 664.825              | 525.776            | 1.264 |
| random_bool        | 10000000     | 500000      | 666.220              | 529.097            | 1.259 |
| random_bool        | 10000000     | 2500000     | 665.150              | 501.925            | 1.325 |
| random_bool        | 10000000     | 5000000     | 700.207              | 480.643            | 1.457 |
| random_bool        | 100000000    | 100000      | 666.692              | 531.477            | 1.254 |
| random_bool        | 100000000    | 1000000     | 664.107              | 486.146            | 1.366 |
| random_bool        | 100000000    | 5000000     | 662.801              | 494.826            | 1.339 |
| random_bool        | 100000000    | 25000000    | 658.707              | 511.814            | 1.287 |
| random_bool        | 100000000    | 50000000    | 693.123              | 557.252            | 1.244 |